# Alembic 配置文件
# 数据库迁移工具配置

[alembic]
# 迁移脚本目录
script_location = alembic

# 迁移文件命名模板
# 使用 序号_描述 格式
file_template = %%(rev)s_%%(slug)s

# 时区设置
# timezone =

# 最大迁移标题长度
truncate_slug_length = 40

# 设置为 'true' 时，修订文件中不会生成 revision 变量
# revision_environment = false

# 设置为 'true' 时，env.py 在生成迁移脚本时也会运行
# sourceless = false

# 版本路径分隔符（用于多目录版本管理）
# version_path_separator = os  # 使用 os.pathsep

# 输出编码
output_encoding = utf-8

# 数据库连接 URL（由 env.py 动态覆盖，此处为占位符）
sqlalchemy.url = sqlite:///./db/trading.db


[post_write_hooks]
# 迁移脚本生成后的钩子（可选：自动格式化）
# hooks = ruff
# ruff.type = exec
# ruff.executable = ruff
# ruff.options = format REVISION_SCRIPT_FILENAME


# 日志配置
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
