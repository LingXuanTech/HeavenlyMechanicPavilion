# Stock Agents Monitor - 项目实施总结

> 最后更新: 2026-02-11
> 状态：功能完整，可进入“稳定性与一致性提升”迭代

## 1. 项目现状（代码实况）

| 指标 | 当前值 |
|---|---:|
| 后端路由文件（不含 `__init__.py`） | 37 |
| API 端点处理器（`@router.*`） | 240 |
| 后端服务模块（不含 `__init__.py`） | 41 |
| Agent 实现文件（不含 `__init__.py`） | 34 |
| 后端测试文件（`test_*.py`） | 39 |
| 前端页面 | 14 |
| 前端组件 | 44 |
| 前端 hooks | 26 |
| CI 工作流 | 4 |

## 2. 已完成能力（核心）

1. **多 Agent 分析链路**：分析师 → 辩论 → 风控 → 最终建议。
2. **分析分级与实时反馈**：L1/L2 + SSE 实时阶段推送。
3. **多市场能力**：A 股特色（北向/龙虎榜/解禁）+ 宏观/跨资产。
4. **Portfolio 可执行化增强**：权重感知分析、预设管理（保存/重命名/排序/导入导出）、导入策略与兼容提示、有效权重预览、智能再平衡建议。
5. **系统平台化**：认证、AI 配置、Prompt 管理、健康监控、通知。
6. **工程化基础**：Monorepo 任务编排、Docker 部署、CI 分层流水线。

## 3. 当前主要风险与差距

1. **文档一致性**：历史统计与代码规模曾存在偏差（本次已修正核心文档）。
2. **API 合约稳定性**：`ai_config` 存在重复路由定义，可能导致维护混乱。
3. **OpenAPI 链路一致性**：类型生成默认 OpenAPI 地址与后端默认地址不一致。
4. **集成验证深度**：SSE + 队列模式 + 子图灰度的组合验证仍需加强。

## 4. 结论

项目主功能已完成并可稳定运行，下一阶段重点应从“功能扩展”转向“稳定性、可维护性、合约一致性、回归质量”四条主线。

> 下一阶段详细计划见：`plans/next-iteration-plan.md`
